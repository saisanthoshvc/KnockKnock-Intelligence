<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}KnockKnock Intelligence - AI-Powered RFP Extraction{% endblock %}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-bg: #0a0e1a;
            --secondary-bg: #111827;
            --tertiary-bg: #1f2937;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --accent-teal: #06d6a0;
            --accent-pink: #f72585;
            --accent-orange: #f97316;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --border: rgba(255, 255, 255, 0.08);
            --border-hover: rgba(59, 130, 246, 0.3);
            --glass: rgba(17, 24, 39, 0.8);
            --glass-hover: rgba(17, 24, 39, 0.9);
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-glow: 0 0 20px rgba(59, 130, 246, 0.3);
        }

        [data-theme="light"] {
            --primary-bg: #ffffff;
            --secondary-bg: #f8fafc;
            --tertiary-bg: #f1f5f9;
            --accent-blue: #2563eb;
            --accent-purple: #7c3aed;
            --accent-teal: #0891b2;
            --accent-pink: #db2777;
            --accent-orange: #ea580c;
            --text-primary: #0f172a;
            --text-secondary: #334155;
            --text-muted: #64748b;
            --success: #059669;
            --warning: #d97706;
            --error: #dc2626;
            --border: rgba(0, 0, 0, 0.1);
            --border-hover: rgba(37, 99, 235, 0.3);
            --glass: rgba(255, 255, 255, 0.8);
            --glass-hover: rgba(255, 255, 255, 0.9);
            --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
            --shadow-glow: 0 0 20px rgba(37, 99, 235, 0.3);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; background-color: var(--primary-bg); }
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background:
                radial-gradient(ellipse at top, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at bottom right, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at bottom left, rgba(6, 214, 160, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            background-attachment: fixed;
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
            font-size: 14px;
            position: relative;
        }

        .particles { position: fixed; inset: 0; pointer-events: none; z-index: -1; }
        .particle { position: absolute; border-radius: 50%; animation: particleFloat 30s linear infinite; opacity: 0.8; }
        .particle:nth-child(odd){background:var(--accent-blue);animation-duration:35s}
        .particle:nth-child(even){background:var(--accent-purple);animation-duration:40s}
        .particle:nth-child(3n){background:var(--accent-teal);animation-duration:45s}
        .particle:nth-child(4n){background:var(--accent-pink);animation-duration:50s}
        @keyframes particleFloat{0%{transform:translateY(100vh) scale(0);opacity:0}10%{opacity:.8;transform:translateY(90vh) scale(1)}90%{opacity:.8;transform:translateY(10vh) scale(1)}100%{transform:translateY(-10vh) scale(0);opacity:0}}

        .container { max-width: 1400px; margin: 0 auto; padding: 0 24px; }
        .header { background: var(--glass); backdrop-filter: blur(25px) saturate(180%); border-bottom: 1px solid var(--border); padding: 1.5rem 0; position: sticky; top: 0; z-index: 1000; transition: all .4s; }
        .header.scrolled { background: var(--glass-hover); box-shadow: var(--shadow-xl); }
        .header-content { display:flex; justify-content:space-between; align-items:center; gap:2rem; }
        .logo { font-size:1.75rem; font-weight:800; background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple),var(--accent-teal)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-decoration:none; display:flex; align-items:center; gap:.75rem; }
        .logo-icon { width:45px; height:45px; background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple)); border-radius:14px; display:flex; align-items:center; justify-content:center; color:#fff; font-size:1.3rem; box-shadow:var(--shadow-lg); transition:.3s; }
        .logo-icon:hover{ transform: rotate(360deg) scale(1.1); box-shadow: var(--shadow-glow); }
        .nav-link { color: var(--text-secondary); text-decoration:none; font-weight:500; font-size:.9rem; transition:.3s; padding:.5rem 1rem; border-radius:8px; display:flex; gap:.5rem; align-items:center; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.1); backdrop-filter: blur(10px); }
        .nav-link:hover,.nav-link.active{ color:var(--text-primary); background:rgba(59,130,246,.15); border-color:rgba(59,130,246,.4) }
        .header-controls{display:flex;align-items:center;gap:1rem}
        .theme-toggle{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);backdrop-filter:blur(10px);padding:.75rem;border-radius:50%;font-size:1rem;color:var(--text-secondary);cursor:pointer;width:45px;height:45px;display:flex;align-items:center;justify-content:center;transition:.3s}
        .theme-toggle:hover{color:var(--text-primary);background:rgba(59,130,246,.1);border-color:rgba(59,130,246,.3);transform:translateY(-1px) rotate(180deg)}
        .status-indicator{display:flex;align-items:center;gap:.75rem;padding:.75rem 1.25rem;background:rgba(16,185,129,.15);border:1px solid rgba(16,185,129,.3);border-radius:25px;color:var(--success);font-size:.9rem;font-weight:600;backdrop-filter:blur(10px)}
        .status-dot{width:8px;height:8px;background:var(--success);border-radius:50%;animation:pulse 2s infinite}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}
        .main-content{padding:3rem 0;min-height:calc(100vh - 100px)}

        .card{background:var(--glass);backdrop-filter:blur(25px) saturate(180%);border:1px solid var(--border);border-radius:24px;padding:3rem;margin-bottom:2.5rem;box-shadow:var(--shadow-xl);transition:.5s;position:relative;overflow:hidden}
        .card:hover{transform:translateY(-12px) scale(1.02);box-shadow:var(--shadow-2xl);border-color:var(--border-hover);background:var(--glass-hover)}

        .btn{display:inline-flex;align-items:center;gap:.75rem;padding:1rem 2rem;border:none;border-radius:16px;font-weight:700;font-size:.95rem;text-decoration:none;cursor:pointer;transition:.4s;position:relative;overflow:hidden;white-space:nowrap;text-transform:uppercase;letter-spacing:.5px}
        .btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);transition:left .6s}
        .btn:hover::before{left:100%}
        .btn-primary{background:linear-gradient(135deg,var(--accent-blue),var(--accent-purple));color:#fff;box-shadow:0 8px 25px rgba(59,130,246,.4)}
        .btn-secondary{background:rgba(255,255,255,.08);color:var(--text-primary);border:1px solid var(--border);backdrop-filter:blur(10px)}
    </style>
</head>
<body>
    <div class="particles" id="particles"></div>

    <div class="container">
        <header class="header" id="header">
            <div class="header-content">
                <a href="/" class="logo">
                    <div class="logo-icon"><i class="fas fa-brain"></i></div>
                    KnockKnock Intelligence
                </a>
                <div class="header-controls">
                    <a href="/" class="nav-link {% if request.endpoint == 'index' %}active{% endif %}" onclick="scrollToUpload()">
                        <i class="fas fa-upload"></i> Upload & Parse
                    </a>
                    <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Light/Dark Mode">
                        <i class="fas fa-sun" id="theme-icon"></i>
                    </button>
                    <div class="status-indicator">
                        <div class="status-dot"></div><span>System Online</span>
                    </div>
                </div>
            </div>
        </header>

        <main class="main-content">
            {% block content %}{% endblock %}
        </main>
    </div>

    <script>
        function createParticles(){
            const c=document.getElementById('particles'); const n=80;
            for(let i=0;i<n;i++){
                const p=document.createElement('div'); p.className='particle';
                const s=Math.random()*6+2; p.style.width=s+'px'; p.style.height=s+'px';
                p.style.left=Math.random()*100+'%';
                p.style.animationDelay=Math.random()*30+'s';
                p.style.animationDuration=(30+Math.random()*20)+'s';
                c.appendChild(p);
            }
        }
        function handleHeaderScroll(){ const h=document.getElementById('header'); if(window.scrollY>50)h.classList.add('scrolled'); else h.classList.remove('scrolled'); }
        function toggleTheme(){ const b=document.body, i=document.getElementById('theme-icon'); const cur=b.getAttribute('data-theme');
            if(cur==='light'){ b.removeAttribute('data-theme'); i.className='fas fa-sun'; localStorage.setItem('theme','dark'); }
            else { b.setAttribute('data-theme','light'); i.className='fas fa-moon'; localStorage.setItem('theme','light'); }
        }
        function scrollToUpload(){ const t=document.getElementById('uploadSection'); if(t){ t.scrollIntoView({behavior:'smooth',block:'start'}); } }
        function initializeTheme(){ const saved=localStorage.getItem('theme'); const b=document.body; const i=document.getElementById('theme-icon');
            if(saved==='light'){ b.setAttribute('data-theme','light'); i.className='fas fa-moon'; } else { b.removeAttribute('data-theme'); i.className='fas fa-sun'; } }
        document.addEventListener('DOMContentLoaded',function(){ initializeTheme(); createParticles(); window.addEventListener('scroll',handleHeaderScroll); });
    </script>
</body>
</html>
